THREE.Stats=function(){var e=Date.now(),t=e,n=0,i=1/0,d=0,s=0,a=1/0,o=0,l=0,r=0,p=document.createElement("div");p.id="stats",p.addEventListener("mousedown",function(e){e.preventDefault(),g(++r%2)},!1),p.style.cssText="width:80px;opacity:0.9;cursor:pointer";var c=document.createElement("div");c.id="fps",c.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",p.appendChild(c);var h=document.createElement("div");h.id="fpsText",h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",h.innerHTML="FPS",c.appendChild(h);var m=document.createElement("div");for(m.id="fpsGraph",m.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",c.appendChild(m);74>m.children.length;){var f=document.createElement("span");f.style.cssText="width:1px;height:30px;float:left;background-color:#113",m.appendChild(f)}var x=document.createElement("div");x.id="ms",x.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",p.appendChild(x);var u=document.createElement("div");u.id="msText",u.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",u.innerHTML="MS",x.appendChild(u);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",x.appendChild(v);74>v.children.length;)f=document.createElement("span"),f.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(f);var g=function(e){switch(r=e){case 0:c.style.display="block",x.style.display="none";break;case 1:c.style.display="none",x.style.display="block"}};return{REVISION:11,domElement:p,setMode:g,begin:function(){e=Date.now()},end:function(){var r=Date.now();n=r-e,i=Math.min(i,n),d=Math.max(d,n),u.textContent=n+" MS ("+i+"-"+d+")";var p=Math.min(30,30-30*(n/200));return v.appendChild(v.firstChild).style.height=p+"px",l++,r>t+1e3&&(s=Math.round(1e3*l/(r-t)),a=Math.min(a,s),o=Math.max(o,s),h.textContent=s+" FPS ("+a+"-"+o+")",p=Math.min(30,30-30*(s/100)),m.appendChild(m.firstChild).style.height=p+"px",t=r,l=0),r},update:function(){e=this.end()}}},THREE.Bootstrap.registerPlugin("stats",{install:function(e){var t=this.stats=new THREE.Stats,n=t.domElement.style;this.begin=t.begin.bind(t),this.end=t.end.bind(t),e.addEventListener("pre",this.begin),e.addEventListener("post",this.end),n.position="absolute",n.top=n.left=0,document.body.appendChild(t.domElement)},uninstall:function(e){e.removeEventListener("pre",this.begin),e.removeEventListener("post",this.end),document.body.removeChild(this.stats.domElement)}});